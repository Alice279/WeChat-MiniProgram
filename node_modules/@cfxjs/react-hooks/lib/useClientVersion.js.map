{"version":3,"sources":["../src/useClientVersion.js"],"names":["GET_CLIENT_VERSION_SWR_ID","useClientVersion","confluxJSDefined","data","clientVersion","error","getClientVersionError","mutate","window","confluxJS","provider","send","call","console","message"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,yBAAyB,GAAG,2BAAlC;;AAEe,SAASC,gBAAT,GAA4B;AACzC,QAAMC,gBAAgB,GAAG,4BAAzB;AAEA,QAAM;AAAEC,IAAAA,IAAI,EAAEC,aAAR;AAAuBC,IAAAA,KAAK,EAAEC,qBAA9B;AAAqDC,IAAAA;AAArD,MAAgE,cACpEL,gBAAgB,GAAGF,yBAAH,GAA+B,IADqB,EAEpE,MAAM;AAAA;;AACJ,QAAI,mBAAOQ,MAAP,iEAAO,QAAQC,SAAf,+EAAO,kBAAmBC,QAA1B,0DAAO,sBAA6BC,IAApC,MAA6C,UAAjD,EACE,mBAAOH,MAAP,mEAAO,SAAQC,SAAf,gFAAO,mBAAmBC,QAA1B,0DAAO,sBAA6BC,IAA7B,CAAkC,mBAAlC,EAAuD,EAAvD,CAAP;AACF,uBAAOH,MAAP,mEAAO,SAAQC,SAAf,gFAAO,mBAAmBC,QAA1B,0DAAO,sBAA6BE,IAA7B,CAAkC,mBAAlC,CAAP;AACD,GANmE,CAAtE;AASA,wBAAU,MAAM;AACd,QAAIV,gBAAJ,EAAsBK,MAAM;AAC7B,GAFD,EAEG,CAACL,gBAAD,CAFH;AAIA,MAAII,qBAAJ,EACEO,OAAO,CAACR,KAAR,CAAe,4BAA2BC,qBAA5B,aAA4BA,qBAA5B,uBAA4BA,qBAAqB,CAAEQ,OAAQ,EAAzE;AAEF,SAAOV,aAAP;AACD","sourcesContent":["import { useSWR, useConfluxJSDefined } from \"./\";\nimport { useEffect } from \"react\";\n\nconst GET_CLIENT_VERSION_SWR_ID = \"GET_CLIENT_VERSION_SWR_ID\";\n\nexport default function useClientVersion() {\n  const confluxJSDefined = useConfluxJSDefined();\n\n  const { data: clientVersion, error: getClientVersionError, mutate } = useSWR(\n    confluxJSDefined ? GET_CLIENT_VERSION_SWR_ID : null,\n    () => {\n      if (typeof window?.confluxJS?.provider?.send === \"function\")\n        return window?.confluxJS?.provider?.send(\"cfx_clientVersion\", []);\n      return window?.confluxJS?.provider?.call(\"cfx_clientVersion\");\n    }\n  );\n\n  useEffect(() => {\n    if (confluxJSDefined) mutate();\n  }, [confluxJSDefined]);\n\n  if (getClientVersionError)\n    console.error(`Error get clientVersion: ${getClientVersionError?.message}`);\n\n  return clientVersion;\n}\n"],"file":"useClientVersion.js"}
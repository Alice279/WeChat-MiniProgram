"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useConfluxJSDefined;

var _react = require("react");

var _reactUse = require("react-use");

let CONFLUXJS_INTERVAL_DEFINED = false;

function useConfluxJSDefined(customInterval = 100) {
  var _window;

  const [defined, setDefined] = (0, _react.useState)(CONFLUXJS_INTERVAL_DEFINED || Boolean((_window = window) === null || _window === void 0 ? void 0 : _window.confluxJS));
  const intervalRef = (0, _react.useRef)(null);
  (0, _reactUse.useEffectOnce)(() => {
    if (!defined) {
      intervalRef.current = setInterval(() => {
        var _window2;

        if ((_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.confluxJS) {
          setDefined(true);
          clearInterval(intervalRef.current);
        }
      }, customInterval);
    }

    return () => {
      if (intervalRef.current) clearInterval(intervalRef.current);
    };
  });
  return defined;
}
//# sourceMappingURL=useConfluxJSDefined.js.map
{"version":3,"sources":["../src/useConfluxJSDefined.js"],"names":["CONFLUXJS_INTERVAL_DEFINED","useConfluxJSDefined","customInterval","defined","setDefined","Boolean","window","confluxJS","intervalRef","current","setInterval","clearInterval"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAIA,0BAA0B,GAAG,KAAjC;;AAEe,SAASC,mBAAT,CAA6BC,cAAc,GAAG,GAA9C,EAAmD;AAAA;;AAChE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB,qBAC5BJ,0BAA0B,IAAIK,OAAO,YAACC,MAAD,4CAAC,QAAQC,SAAT,CADT,CAA9B;AAGA,QAAMC,WAAW,GAAG,mBAAO,IAAP,CAApB;AACA,+BAAc,MAAM;AAClB,QAAI,CAACL,OAAL,EAAc;AACZK,MAAAA,WAAW,CAACC,OAAZ,GAAsBC,WAAW,CAAC,MAAM;AAAA;;AACtC,wBAAIJ,MAAJ,6CAAI,SAAQC,SAAZ,EAAuB;AACrBH,UAAAA,UAAU,CAAC,IAAD,CAAV;AACAO,UAAAA,aAAa,CAACH,WAAW,CAACC,OAAb,CAAb;AACD;AACF,OALgC,EAK9BP,cAL8B,CAAjC;AAMD;;AAED,WAAO,MAAM;AACX,UAAIM,WAAW,CAACC,OAAhB,EAAyBE,aAAa,CAACH,WAAW,CAACC,OAAb,CAAb;AAC1B,KAFD;AAGD,GAbD;AAeA,SAAON,OAAP;AACD","sourcesContent":["import { useState, useRef } from \"react\";\nimport { useEffectOnce } from \"react-use\";\n\nlet CONFLUXJS_INTERVAL_DEFINED = false;\n\nexport default function useConfluxJSDefined(customInterval = 100) {\n  const [defined, setDefined] = useState(\n    CONFLUXJS_INTERVAL_DEFINED || Boolean(window?.confluxJS)\n  );\n  const intervalRef = useRef(null);\n  useEffectOnce(() => {\n    if (!defined) {\n      intervalRef.current = setInterval(() => {\n        if (window?.confluxJS) {\n          setDefined(true);\n          clearInterval(intervalRef.current);\n        }\n      }, customInterval);\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  });\n\n  return defined;\n}\n"],"file":"useConfluxJSDefined.js"}
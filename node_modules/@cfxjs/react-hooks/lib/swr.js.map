{"version":3,"sources":["../src/swr.js"],"names":["useIdleSWR","args","key","rest","idleDelay","useEpochNumberSWR","confluxJSDefined","swrRst","mutate"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEe,SAASA,UAAT,CAAoB,GAAGC,IAAvB,EAA6B;AAC1C,QAAM,CAACC,GAAD,EAAM,GAAGC,IAAT,IAAiBF,IAAvB;AACA,MAAIG,SAAS,GAAG,KAAhB;AACA,MAAIH,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAvB,EAAkCA,SAAS,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAApB;AAClC,MAAIH,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAvB,EAAkCA,SAAS,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAApB;AAClC,SAAO,kBAAO,uBAAQA,SAAR,IAAqB,IAArB,GAA4BF,GAAnC,EAAwC,GAAGC,IAA3C,CAAP;AACD;;AAEM,SAASE,iBAAT,CAA2B,GAAGJ,IAA9B,EAAoC;AACzC,QAAMK,gBAAgB,GAAG,4BAAzB;AACA,QAAM,CAACJ,GAAD,EAAM,GAAGC,IAAT,IAAiBF,IAAvB;AACA,QAAMM,MAAM,GAAGP,UAAU,CAACM,gBAAgB,GAAGJ,GAAH,GAAS,IAA1B,EAAgC,GAAGC,IAAnC,CAAzB;AACA,wBAAU,MAAM;AACdI,IAAAA,MAAM,CAACC,MAAP;AACD,GAFD,EAEG,CAACF,gBAAD,CAFH;AAGA,0BAAS,oBAAT,EAA+B,MAAMC,MAAM,CAACC,MAAP,EAArC;AACA,SAAOD,MAAP;AACD","sourcesContent":["import useSWR from \"swr\";\nimport { useIdle, useEvent } from \"react-use\";\nimport { useConfluxJSDefined } from \"./\";\nimport { useEffect } from \"react\";\n\nexport default function useIdleSWR(...args) {\n  const [key, ...rest] = args;\n  let idleDelay = 300e3;\n  if (args[1] && args[1].idleDelay) idleDelay = args[1].idleDelay;\n  if (args[2] && args[2].idleDelay) idleDelay = args[2].idleDelay;\n  return useSWR(useIdle(idleDelay) ? null : key, ...rest);\n}\n\nexport function useEpochNumberSWR(...args) {\n  const confluxJSDefined = useConfluxJSDefined();\n  const [key, ...rest] = args;\n  const swrRst = useIdleSWR(confluxJSDefined ? key : null, ...rest);\n  useEffect(() => {\n    swrRst.mutate();\n  }, [confluxJSDefined]);\n  useEvent(\"epochNumberUpdated\", () => swrRst.mutate());\n  return swrRst;\n}\n"],"file":"swr.js"}
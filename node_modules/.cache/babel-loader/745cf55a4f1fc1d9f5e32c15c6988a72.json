{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useConfluxJSDefined;\n\nvar _react = require(\"react\");\n\nvar _reactUse = require(\"react-use\");\n\nlet CONFLUXJS_INTERVAL_DEFINED = false;\n\nfunction useConfluxJSDefined(customInterval = 100) {\n  var _window;\n\n  const [defined, setDefined] = (0, _react.useState)(CONFLUXJS_INTERVAL_DEFINED || Boolean((_window = window) === null || _window === void 0 ? void 0 : _window.confluxJS));\n  const intervalRef = (0, _react.useRef)(null);\n  (0, _reactUse.useEffectOnce)(() => {\n    if (!defined) {\n      intervalRef.current = setInterval(() => {\n        var _window2;\n\n        if ((_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.confluxJS) {\n          setDefined(true);\n          clearInterval(intervalRef.current);\n        }\n      }, customInterval);\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  });\n  return defined;\n}","map":{"version":3,"sources":["../src/useConfluxJSDefined.js"],"names":["CONFLUXJS_INTERVAL_DEFINED","customInterval","Boolean","window","intervalRef","setInterval","setDefined","clearInterval"],"mappings":";;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAIA,0BAA0B,GAA9B,KAAA;;AAEe,SAAA,mBAAA,CAA6BC,cAAc,GAA3C,GAAA,EAAmD;AAAA,MAAA,OAAA;;AAChE,QAAM,CAAA,OAAA,EAAA,UAAA,IAAwB,CAAA,GAAA,MAAA,CAAA,QAAA,EAC5BD,0BAA0B,IAAIE,OAAO,CAAA,CAAA,OAAA,GAAA,MAAA,MAAA,IAAA,IAAA,OAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAACC,OAAAA,CADxC,SACuC,CADT,CAA9B;AAGA,QAAMC,WAAW,GAAG,CAAA,GAAA,MAAA,CAAA,MAAA,EAApB,IAAoB,CAApB;AACA,GAAA,GAAA,SAAA,CAAA,aAAA,EAAc,MAAM;AAClB,QAAI,CAAJ,OAAA,EAAc;AACZA,MAAAA,WAAW,CAAXA,OAAAA,GAAsBC,WAAW,CAAC,MAAM;AAAA,YAAA,QAAA;;AACtC,YAAA,CAAA,QAAA,GAAA,MAAA,MAAA,IAAA,IAAA,QAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAIF,QAAAA,CAAJ,SAAA,EAAuB;AACrBG,UAAAA,UAAU,CAAVA,IAAU,CAAVA;AACAC,UAAAA,aAAa,CAACH,WAAW,CAAzBG,OAAa,CAAbA;AACD;AAJ8B,OAAA,EAAjCH,cAAiC,CAAjCA;AAMD;;AAED,WAAO,MAAM;AACX,UAAIA,WAAW,CAAf,OAAA,EAAyBG,aAAa,CAACH,WAAW,CAAzBG,OAAa,CAAbA;AAD3B,KAAA;AAVF,GAAA;AAeA,SAAA,OAAA;AACD","sourcesContent":["import { useState, useRef } from \"react\";\nimport { useEffectOnce } from \"react-use\";\n\nlet CONFLUXJS_INTERVAL_DEFINED = false;\n\nexport default function useConfluxJSDefined(customInterval = 100) {\n  const [defined, setDefined] = useState(\n    CONFLUXJS_INTERVAL_DEFINED || Boolean(window?.confluxJS)\n  );\n  const intervalRef = useRef(null);\n  useEffectOnce(() => {\n    if (!defined) {\n      intervalRef.current = setInterval(() => {\n        if (window?.confluxJS) {\n          setDefined(true);\n          clearInterval(intervalRef.current);\n        }\n      }, customInterval);\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  });\n\n  return defined;\n}\n"]},"metadata":{},"sourceType":"script"}